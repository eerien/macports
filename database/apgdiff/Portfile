# $Id$

PortSystem 1.0

name            apgdiff
version         2.4
categories      database
platforms       darwin
license         MIT
maintainers     gmail.com:eerien openmaintainer
description     PostgreSQL diff tool that is useful for comparison/diffing of database schemas.
long_description    Another PostgreSQL Diff Tool (also known as apgdiff) is \
                    free PostgreSQL diff tool that is useful for comparison/diffing \
                    of database schemas. The tool compares two database dump \
                    files and creates output with DDL statements that can be used \
                    to update old database schema to new one or to see in what \
                    exactly both databases differ. It is already being used by many \
                    developers all over the world.
homepage        http://apgdiff.com/
master_sites    http://apgdiff.com/download/
use_zip         yes
distfiles       ${distname}-bin${extract.suffix}
checksums       rmd160  29d3ede1e3daff4c60780757411b682525d18d8f \
                sha256  12d95fbb0b8188d7f90e7aaf8bdd29d0eecac26e08d6323624b5b7e3f7c7a3f7
use_configure   no

build {}
destroot {
    xinstall -d ${destroot}${prefix}/share/java/${name}
    xinstall ${worksrcpath}/apgdiff-${version}.jar \
        ${destroot}${prefix}/share/java/apgdiff-${version}.jar
    xinstall -m 755 ${portpath}/files/apgdiff ${destroot}${prefix}/bin/apgdiff
    reinplace "s|apgdiff-jar-path|${prefix}/share/java/apgdiff-${version}.jar|g" \
        ${destroot}${prefix}/bin/apgdiff
}
